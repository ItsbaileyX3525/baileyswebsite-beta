import"./style-9GBjC2TG.js";const Y=document.getElementById("music-player"),z=document.getElementById("music-player-shuffle"),k=document.getElementById("music-image"),m=document.getElementById("music-details"),L=document.getElementById("shuffle-image"),u=document.getElementById("song"),F=document.getElementById("song-source");let _,$,W,w=[["DanTDM - Spacedog",.6],["Evlis Presley - Wonder of you",.09],["Idk Who - promise<conversion>",.2],["Goth Babe - Weekend Friend",.2],["SEKAI NO OWARI - The Peak",.1]],g=0,P,H,D=!1,M=!!localStorage.getItem("isShuffled")||!0;function he(){u?.paused||(D=!0,k&&(k.src="/assets/speaker_enabled.svg")),z&&L&&z.addEventListener("click",()=>{M=!M,M?(L.src="/assets/shuffle.svg",localStorage.setItem("isShuffled","true")):(L.src="/assets/unshuffled.svg",localStorage.setItem("isShuffled","false"))}),Y&&Y.addEventListener("click",()=>{D?(k&&(k.src="/assets/speaker_disabled.svg"),u&&m&&(u.pause(),clearTimeout($),clearTimeout(W),m.innerText="Now playing: Nothing",m.classList.add("opacity-100"),_=setTimeout(()=>{m?.classList.remove("opacity-100")},2800))):(k&&(k.src="/assets/speaker_enabled.svg"),u&&m&&(u.play(),clearTimeout(_),clearTimeout(W),m.innerText=P,m.classList.add("opacity-100"),$=setTimeout(()=>{m?.classList.remove("opacity-100")},2800))),D=!D})}document.addEventListener("DOMContentLoaded",()=>{u&&F&&(H=w.length-1,P="Now playing: "+w[g][0],F.src="/assets/"+w[g][0]+".mp3",u.load(),u.volume=w[g][1],u.addEventListener("ended",()=>{M?(g=Math.floor(Math.random()*(H-0+1))+0,console.log(g)):(g++,g>H&&(g=0)),P=w[g][0],F.src="/assets/"+w[g][0]+".mp3",m&&(u.load(),u.volume=w[g][1],u.play(),clearTimeout(_),clearTimeout($),m.innerText=P,m.classList.add("opacity-100"),W=setTimeout(()=>{m?.classList.remove("opacity-100")},2800))}),L&&(M?(L.src="/assets/shuffle.svg",localStorage.setItem("isShuffled","true")):(L.src="/assets/unshuffled.svg",localStorage.setItem("isShuffled","false"))))});let j=document.getElementById("file-report"),I=document.getElementById("file-status"),S=document.getElementById("image"),B=document.getElementById("file-name"),G=document.getElementById("hosted-text");function pe(){j=document.getElementById("file-report"),I=document.getElementById("file-status"),S=document.getElementById("image"),B=document.getElementById("file-name"),G=document.getElementById("hosted-text")}function ye(t,e,n){t.preventDefault();const o=t.target.elements[0].files?.[0],l=new FormData;if(!o){console.log("No image");return}l.append("imageUpload",o),l.append("websiteName",e),l.append("apiKey",n),fetch("https://api.flik.host/upload.php",{method:"POST",body:l}).then(async r=>{const d=await r.text();if(!(!j||!G||!B||!I||!S)){j.classList.add("flex"),j.classList.remove("hidden");try{const i=JSON.parse(d);if(i.success){I.classList.contains("text-red-500")&&(I.classList.add("text-green-500"),I.classList.remove("text-red-500"),B.classList.remove("hidden"),S.classList.remove("hidden"),I.innerText="File uploaded sucessfully!",G.innerText="This image is now hosted on the flikhost website that I created!");let c=i.link.replace("api.",""),s=i.link.replace("https://api.flik.host/images/","");B.innerText=s,B.href=c,S.src=c}else console.log("Post failed",i),I.classList.remove("text-green-500"),I.classList.add("text-red-500"),I.innerText="File upload failed :\\",B.classList.add("hidden"),S.classList.add("hidden"),G.innerText=i.message}catch{console.log("Server error")}}}).catch(r=>{console.log(r)})}window.uploadImage=ye;let J,q,Q,V,X;const Z=31536e3,ee=2629743,te=86400,ne=3600,ae=60,se=1203379200,oe=1298073600,ie=1663059600;let T=null,ue,O,le,R=null,ge,b,U,fe="1D1BB7F908BA094BE964A0ED410E0017";function Ie(t){let e=Math.floor(t/60),n=t%60,a=Math.floor(n),o=Math.round((n-a)*60);return`${e}hr ${a}m ${o}s`}async function ve(){const t=`https://corsproxy.io/?url=https://api.steampowered.com/ISteamUser/GetPlayerSummaries/v0002/?key=${fe}&steamids=76561198352376830`;try{const e=await fetch(t);if(!e.ok)throw new Error(`Response status: ${e}`);const n=await e.json(),a=n.response.players[0];console.log(n.response.players[0]),R=a.personaname,ge=a.avatar,b=a.timecreated,U=a.lastlogoff}catch(e){console.log(e)}}async function we(){const t=`https://corsproxy.io/?url=https://api.steampowered.com/IPlayerService/GetRecentlyPlayedGames/v0001/?key=${fe}&steamid=76561198352376830&format=json`;try{const e=await fetch(t);if(!e.ok)throw new Error(`Response status: ${e.status}`);const n=await e.json();T=n.response.games[0].name,O=n.response.games[0].img_icon_url,ue=n.response.games[0].playtime_forever,le=n.response.games[0].appid,O=`https://cdn.steamstatic.com/steamcommunity/public/images/apps/${le}/${O}.jpg`}catch(e){console.log(e)}}function f(t){let e=Date.now()/1e3-t,n="0yr ",a="0mth ",o="0d ",l="0hr ",r="0m ",d="0s ",i=Math.floor(e/Z);i&&(n=i+"yr ",e-=i*Z);let c=Math.floor(e/ee);c&&(a=c+"mth ",e-=ee*c);let s=Math.floor(e/te);s&&(o=s+"d ",e-=te*s);let E=Math.floor(e/ne);E&&(l=E+"hr ",e-=ne*E);let x=Math.floor(e/ae);x&&(r=x+"m ",e-=ae*x);let v=Math.floor(e/1);return v&&(d=v+"s ",e-=1*v),n+a+o+l+r+d}async function Ee(){const t=document.getElementById("living-stat"),e=document.getElementById("alive-stat"),n=document.getElementById("coding-stat"),a=document.getElementById("game-icon"),o=document.getElementById("recent-game"),l=document.getElementById("recent-game-time"),r=document.getElementById("steam-age"),d=document.getElementById("steam-icon"),i=document.getElementById("steam-profile"),c=document.getElementById("steam-last-online");if(clearInterval(J),clearInterval(q),clearInterval(Q),clearInterval(V),clearInterval(X),t){let s=f(se);t.innerText=s}if(e){let s=f(oe);e.innerText=s}if(n){let s=f(ie);n.innerText=s}J=setInterval(()=>{if(t){let s=f(se);t.innerText=s}},1e3),q=setInterval(()=>{if(e){let s=f(oe);e.innerText=s}},1e3),Q=setInterval(()=>{if(n){let s=f(ie);n.innerText=s}},1e3),T||await we(),R||await ve(),o&&T&&(console.log(T),o.innerText=T),l&&(l.innerText=Ie(ue)),a&&(a.src=O),r&&(r.innerText=f(b),V=setInterval(()=>{b-=1/60,r.innerText=f(b)},1e3)),d&&i&&R&&(d.src=ge,i.innerText=R),c&&(c.innerText=f(U).replace("0yr 0mth","")+" ago",X=setInterval(()=>{b-=1/60,c.innerText=f(U).replace("0yr 0mth","")+" ago"},1e3))}const xe={"/":"home","/games":"games","/flikhost":"flikhost","/stats":"stats"};async function K(t){const e=document.getElementById("app");if(!e)return;const n=xe[t];if(!n){const a=await fetch("/404.html");if(!a.ok)throw new Error("Not found");const o=await a.text();e.innerHTML=o;return}try{const a=await fetch(`/${n}.html`);if(!a.ok)throw new Error("Not found");const o=await a.text();e.innerHTML=o,he(),Le(),pe(),n==="stats"&&Ee(),n==="home"&&Be()}catch{const a=await fetch("/404.html");if(!a.ok)throw new Error("Not found");const o=await a.text();e.innerHTML=o}}function ke(t){history.pushState({},"",t),K(t)}window.addEventListener("popstate",()=>K(location.pathname));document.addEventListener("DOMContentLoaded",()=>{document.body.addEventListener("click",t=>{const e=t.target;if(e.matches("div[data-link]")){t.preventDefault();const n=e.getAttribute("href");n&&ke(n)}}),K(location.pathname)});let h=0,A=["Python.png","Lua.png","TypeScript.jpg","CSharp.png","Rust.png"],re=["Python is the very first language that I wrote in, back in 2020 when I started getting serious about coding!",'Ok, I lied a little, technically Lua was the first language I wrote code in back in 2017 when i "Built" Roblox games.',`Hey look! It's TypeScript, the very same lang this website is built using! I've just started learning this lang but it's literally JavaScript which I'm a "god" at.`,"C# is one of those languages I passively use, I don't use it much anymore as it was mainly for unity but now I use, the best game engine, Godot!","Rust... Yes rust. I don't use rust at all other than when I'm bored and want to test my knowledge in rust (It isn't good)"],p=0,C=["Sus clicker.png","Blocky.png","ClickyMMO.png","Leland slug.png"],ce=["Sus clicker, this game is my pride and joy, I've been making it for years! <a class='text-[#ff8c69]' href='https://itsbaileyx3525.itch.io/sus-clicker-remastered' target='_blank'>Check it out here!</a>","They call me blocky is a simple-ish game I'm making for Summer of making! Hoping to get a 3D printer. <a class='text-[#ff8c69]' href='https://itsbaileyx3525.itch.io/they-call-me-blocky' target='_blank'>Check it out here!</a>","ClickyMMO, I was inspired by 8bitMMO but with this you can draw anything with anyone! <a class='text-[#ff8c69]' href='https://itsbaileyx3525.itch.io/clickymmo' target='_blank'>Check it out here!</a>","Leland and the slug, A silly game that we had to make for college. It is not a good game lol. <a class='text-[#ff8c69]' href='https://itsbaileyx3525.itch.io/leland-and-the-slug' target='_blank'>Check it out here!</a>"],y=0,N=["Bailey at the pier.jpg","Bailey at the port.jpeg","Bailey touching grass.jpg","Bailey at auchwitz.jpeg","Bailey at the saltmines.jpeg"],de=["Bailey outside (shock) walking down the pier at the local beach","Yet another image of Bailey but this time he walked a buttload to see a city view.","Here I am walking with my mates, just played muffin time and we had to take a picture!","In this I'm at auchwitz... I did not mean to smile. But yea it was awesome learning.","An image of a king in the krakow saltmines... I have no idea what it means."];function Be(){const t=document.getElementById("adventure-image"),e=document.getElementById("game-image"),n=document.getElementById("language-image"),a=document.getElementById("updates"),o=document.getElementById("close-updates"),l=document.getElementById("prev-adventure-button"),r=document.getElementById("next-adventure-button"),d=document.getElementById("adventure-footer"),i=document.getElementById("prev-game-button"),c=document.getElementById("next-game-button"),s=document.getElementById("game-footer"),E=document.getElementById("prev-language-button"),x=document.getElementById("next-language-button"),v=document.getElementById("language-footer");l&&r&&(l.addEventListener("click",()=>{y--,y===-1&&(y=N.length-1),t&&(t.src="assets/index/baileyAdventure/"+N[y]),d&&(d.innerText=de[y])}),r.addEventListener("click",()=>{y++,y>=N.length&&(y=0),t&&(t.src="assets/index/baileyAdventure/"+N[y]),d&&(d.innerText=de[y])})),i&&c&&(i.addEventListener("click",()=>{p--,p===-1&&(p=C.length-1),e&&(e.src="assets/index/baileyGames/"+C[p]),s&&(s.innerHTML="<p>"+ce[p]+"</p>")}),c.addEventListener("click",()=>{p++,p>=C.length&&(p=0),e&&(e.src="assets/index/baileyGames/"+C[p]),s&&(s.innerHTML="<p>"+ce[p]+"</p>")})),E&&x&&(E.addEventListener("click",()=>{h--,h===-1&&(h=A.length-1),n&&(n.src="assets/index/baileyLanguage/"+A[h]),v&&(v.innerHTML="<p>"+re[h]+"</p>")}),x.addEventListener("click",()=>{h++,h>=A.length&&(h=0),n&&(n.src="assets/index/baileyLanguage/"+A[h]),v&&(v.innerHTML="<p>"+re[h]+"</p>")})),o&&o.addEventListener("click",()=>{a&&(a.classList.remove("fixed"),a.classList.add("hidden"),localStorage.setItem("ship1","false"))}),localStorage.getItem("ship1")=="true"&&a&&(a.classList.remove("hidden"),a.classList.add("fixed"))}function Le(){for(const t of document.querySelectorAll("img"))t.addEventListener("error",function(e){const n=e.target;n.src="NoImage.jpg",n.onerror=null}),t.complete&&t.naturalWidth===0&&t.dispatchEvent(new Event("error"))}const me=document.getElementById("portfolio-button");document.addEventListener("DOMContentLoaded",()=>{me&&me.addEventListener("click",()=>{window.location.href="/portfolio"})});function Se(t,e){t&&e&&(t.classList.contains("max-h-0")?(t.classList.remove("max-h-0"),t.classList.add("max-h-40"),e.innerText="↑"):(t.classList.remove("max-h-40"),t.classList.add("max-h-0"),e.innerText="↓"))}window.toggleReveal=Se;
