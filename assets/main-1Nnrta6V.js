import"./modulepreload-polyfill-B5Qt9EMX.js";/* empty css              */let V=document.getElementById("file-report"),T=document.getElementById("file-status"),N=document.getElementById("image"),D=document.getElementById("file-name"),J=document.getElementById("hosted-text");function lt(){V=document.getElementById("file-report"),T=document.getElementById("file-status"),N=document.getElementById("image"),D=document.getElementById("file-name"),J=document.getElementById("hosted-text")}function ct(e,t,n){e.preventDefault();const s=e.target.elements[0].files?.[0],i=new FormData;if(!s){console.log("No image");return}i.append("imageUpload",s),i.append("websiteName",t),i.append("apiKey",n),fetch("https://api.flik.host/upload.php",{method:"POST",body:i}).then(async o=>{const r=await o.text();if(!(!V||!J||!D||!T||!N)){V.classList.add("flex"),V.classList.remove("hidden");try{const c=JSON.parse(r);if(c.success){T.classList.contains("text-red-500")&&(T.classList.add("text-green-500"),T.classList.remove("text-red-500"),D.classList.remove("hidden"),N.classList.remove("hidden"),T.innerText="File uploaded sucessfully!",J.innerText="This image is now hosted on the flikhost website that I created!");let f=c.link.replace("api.",""),g=c.link.replace("https://api.flik.host/images/","");D.innerText=g,D.href=f,N.src=f}else console.log("Post failed",c),T.classList.remove("text-green-500"),T.classList.add("text-red-500"),T.innerText="File upload failed :\\",D.classList.add("hidden"),N.classList.add("hidden"),J.innerText=c.message}catch{console.log("Server error")}}}).catch(o=>{console.log(o)})}window.uploadImage=ct;let ke,Be,Te,Le,De,Ae,Me,Ce,_e,ce=!1;const Oe=31536e3,Ne=2629743,je=86400,$e=3600,Fe=60,me=1203379200,Pe=1298073600,Re=1663059600,Ue=1753624800;let He=0,ue="0",F=null,A,j,de,K=null,Ze,$,fe,ge=!1,Y,X,pe,he,Q,Z,et=null,tt=null,nt="1D1BB7F908BA094BE964A0ED410E0017";function dt(){let e;var t=!!window.opr&&!!opr.addons||!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,n=typeof InstallTrigger<"u",a=/constructor/i.test(window.HTMLElement)||function(f){return f.toString()==="[object SafariRemoteNotification]"}(!window.safari||typeof safari<"u"&&window.safari.pushNotification),s=!!document.documentMode,i=!s&&!!window.StyleMedia,o=!!window.chrome&&(!!window.chrome.webstore||!!window.chrome.runtime),r=o&&navigator.userAgent.indexOf("Edg")!=-1,c=(o||t)&&!!window.CSS;return t?e="Opera - Chinese spywere 👍":n?e="Firefox - The best":a?e="Safari - EWWWWW":s?e="Internet Explorer - Old ahh":r?e="Edge (Chromium)":i?e="Edge":o?e="Chrome - In the big 25...":c?e="Blink":e="I have no idea...",e}function mt(e){const t=document.getElementById(e);t&&(t.classList.contains("hidden")?t.classList.remove("hidden"):t.classList.add("hidden"))}function ut(){const e=document.getElementById("app");e&&e.querySelectorAll("div[data-wrapper]").forEach(n=>{ce?n.classList.add("hidden"):n.classList.remove("hidden")}),ce=!ce}function ft(e){let t=Math.floor(e/60),n=e%60,a=Math.floor(n),s=Math.round((n-a)*60);return`${t}hr ${a}m ${s}s`}async function gt(){const e=`https://corsproxy.io/?url=https://api.steampowered.com/ISteamUser/GetPlayerSummaries/v0002/?key=${nt}&steamids=76561198352376830`;try{const t=await fetch(e);if(!t.ok)throw new Error(`Response status: ${t}`);const a=(await t.json()).response.players[0];K=a.personaname,Ze=a.avatar,$=a.timecreated,fe=a.lastlogoff}catch(t){console.log(t)}}async function pt(){const e="https://api.flik.host/scrape_steam.php";try{const n=await fetch(e);if(!n.ok)throw new Error(`Response status: ${n.status}`);const a=await n.json();F=a.game_name,j=a.icon_url,A=a.playtime.replace(" on record",""),de=a.appid,ge=!1;return}catch(n){console.log("Default method failed, falling back, "+n)}const t=`https://corsproxy.io/?url=https://api.steampowered.com/IPlayerService/GetOwnedGames/v0001/?key=${nt}&steamid=76561198352376830&include_appinfo=1&format=json`;try{const n=await fetch(t);if(!n.ok)throw new Error(`Response status: ${n.status}`);const s=(await n.json()).response.games;s.sort((i,o)=>o.rtime_last_played-i.rtime_last_played),F=s[0].name,j=s[0].img_icon_url,A=s[0].playtime_forever,de=String(s[0].appid),j=`https://cdn.steamstatic.com/steamcommunity/public/images/apps/${de}/${j}.jpg`,ge=!0}catch(n){console.log(n)}}function G(e){let t=Math.floor(e/1e3),n=Math.floor(t/60);return t-=60*n,`${n}m ${t}s`}async function Ge(){const e=await fetch("https://api.flik.host/spotify.php"),t=await e.json();if(e.status!==204){if(!e.ok)throw new Error(`Spotify API error: ${e.status} ${e.statusText}`);t.track==null?(Y=t.message,Q=0,Z=0,X=""):(X=t.track.artists[0],Y=t.track.name,pe=t.track.image,he=t.track.spotify_url,Z=t.progress_ms,Q=t.track.duration_ms)}}async function ht(){try{return ue=(await(await fetch("https://api.flik.host/unique_site_visitiors.php?site=baileygamesand.codes")).json()).total_unique_visitors,!0}catch(e){return console.error(e),!1}}async function yt(){try{return await(await fetch("version.txt")).text()}catch(e){return console.log(e),"Failed to retrieve version"}}async function vt(){const e=await fetch(`https://api.flik.host/single_comment.php?site=${encodeURIComponent("https://baileygamesand.codes")}`);if(!e.ok)throw new Error(`HTTP ${e.status}: ${e.statusText}`);const t=await e.json();if(et=t.comment,tt=t.author,!t.success)throw new Error(t.error||"Failed to fetch comment")}async function wt(e,t="Anon"){const n="https://api.flik.host/single_comment.php";t===null&&(t="Anon");const a=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({site:"https://baileygamesand.codes",comment:e,author:t})});return!(!a.ok||!(await a.json()).success)}function qe(){let e=Date.now()/1e3-me;return String(Math.floor(e/4.333))}function at(e){He++,e.innerText=String(He)+" refreshes",requestAnimationFrame(()=>at(e))}function h(e){let t=Date.now()/1e3-e,n="",a="",s="",i="",o="",r="0s",c=Math.floor(t/Oe);c&&(n=c+"yr ",t-=c*Oe);let f=Math.floor(t/Ne);f&&(a=f+"mth ",t-=Ne*f);let g=Math.floor(t/je);g&&(s=g+"d ",t-=je*g);let k=Math.floor(t/$e);k&&(i=k+"hr ",t-=$e*k);let B=Math.floor(t/Fe);B&&(o=B+"m ",t-=Fe*B);let p=Math.floor(t/1);return p&&(r=p+"s ",t-=1*p),n+a+s+i+o+r}async function It(){const e=document.getElementById("living-stat"),t=document.getElementById("alive-stat"),n=document.getElementById("coding-stat"),a=document.getElementById("game-icon"),s=document.getElementById("recent-game"),i=document.getElementById("recent-game-time"),o=document.getElementById("steam-age"),r=document.getElementById("steam-icon"),c=document.getElementById("steam-profile"),f=document.getElementById("steam-last-online"),g=document.getElementById("breaths-stat"),k=document.getElementById("frame-stat"),B=document.getElementById("visitor-stat"),p=document.getElementById("comment-stat"),ne=document.getElementById("submit-comment"),ae=document.getElementById("username"),U=document.getElementById("comment"),Ee=document.getElementById("browser-stat"),H=document.getElementById("OS-stat"),Se=document.getElementById("threads-stat"),O=document.getElementById("connection-stat"),se=document.getElementById("website-stat"),be=document.getElementById("version-stat"),oe=document.getElementById("spotifyname-stat"),ie=document.getElementById("spotifyduration-stat"),re=document.getElementById("spotify-icon"),le=document.getElementById("spotify-link");if(clearInterval(ke),clearInterval(Be),clearInterval(Te),clearInterval(Le),clearInterval(De),clearInterval(Ae),clearInterval(Me),clearInterval(Ce),clearInterval(_e),e){let m=h(me);e.innerText=m,ke=setInterval(()=>{let v=h(me);e.innerText=v},1e3)}if(t){let m=h(Pe);t.innerText=m,Be=setInterval(()=>{let v=h(Pe);t.innerText=v},1e3)}if(n){let m=h(Re);n.innerText=m,Te=setInterval(()=>{let v=h(Re);n.innerText=v},1e3)}if(se){let m=h(Ue);se.innerHTML=m,Ce=setInterval(()=>{let v=h(Ue);se.innerText=v},1e3)}if(F||await pt(),K||await gt(),s&&F&&(s.innerText=F),i&&(ge?typeof A=="number"&&(i.innerText=ft(A)):typeof A=="string"&&(i.innerText=A)),a&&(a.src=j),o&&(o.innerText=h($),Le=setInterval(()=>{$-=1/60,o.innerText=h($)},1e3)),r&&c&&K&&(r.src=Ze,c.innerText=K),f&&(f.innerText=h(fe).replace("0yr 0mth","")+" ago",De=setInterval(()=>{$-=1/60,f.innerText=h(fe).replace("0yr 0mth","")+" ago"},1e3)),g&&(g.innerText=qe()+" Breaths taken",Ae=setInterval(()=>{g.innerText=qe()+" Breaths taken"},4.333)),k&&requestAnimationFrame(()=>at(k)),ue==="0"&&await ht(),B&&(B.innerText=ue),be){let m=await yt();be.innerText=m}if(await vt(),p&&(p.innerText=tt+": "+et,ne&&ae&&U&&ne.addEventListener("click",async()=>{if(U.value){let m=ae.value?ae.value:"Anon";await wt(U.value,m)&&(p.innerText=m+": "+U.value)}})),Ee&&(Ee.innerText=dt()),H)if(window.navigator.platform){let m=window.navigator.platform;const v=navigator.userAgent||navigator.vendor||window.opera;m.includes("Linux")&&(m=m+" - Love to see it!"),/android/i.test(v)&&(m="Android - The best mobile OS"),H.innerText=m}else navigator.userAgentData.platform?(navigator.userAgentData.platform+"",H.innerText=navigator.userAgentData.platform):H.innerText="Idk your browser ain't sayin much";Se&&(Se.innerText=String(navigator.hardwareConcurrency)+" threads"),O&&(navigator.onLine?O.innerText="Online":O.innerText="Offline",Me=setInterval(()=>{navigator.onLine?O.innerText="Online":O.innerText="Offline"},100)),await Ge(),oe&&ie&&re&&le&&(oe.innerText=Y+" - "+X,ie.innerText=G(Z)+" / "+G(Q),re.src=pe,le.href=he,_e=setInterval(async()=>{await Ge(),oe.innerText=Y+" - "+X,ie.innerText=G(Z)+" / "+G(Q),re.src=pe,le.href=he},1e3))}window.exposeStat=mt;window.exposeAllStats=ut;const We=document.getElementById("music-player"),ze=document.getElementById("music-player-shuffle"),E=document.getElementById("music-image"),l=document.getElementById("music-details"),P=document.getElementById("shuffle-image"),d=document.getElementById("song"),S=document.getElementById("song-source");let ye,ve,we;const xt="musicDB",Et=1,_="songs";let te;const st=[["DanTDM - Spacedog",.6],["Evlis Presley - Wonder of you",.09],["idk who - promise<conversion>",.2],["SEKAI NO OWARI - The Peak",.1]];let y=0,b="",M=!1,C=!!localStorage.getItem("isShuffled")||!0;const L=new Map;let u=[],R=0;async function Ie(){const e=await rt();for(const t of L.values())URL.revokeObjectURL(t);L.clear(),u=[];for(const t of e){const n=URL.createObjectURL(t.blob);L.set(t.name,n);const a=st.find(([s])=>s===t.name)?.[1]??.1;u.push([t.name,a])}R=u.length-1}function St(){d?.paused||(M=!0,E&&(E.src="/assets/speaker_enabled.svg")),ze&&P&&ze.addEventListener("click",()=>{C=!C,C?(P.src="/assets/shuffle.svg",localStorage.setItem("isShuffled","true")):(P.src="/assets/unshuffled.svg",localStorage.setItem("isShuffled","false"))}),We&&We.addEventListener("click",()=>{if(u.length===0){l&&(l.innerText="No songs available",l.classList.add("opacity-100"),setTimeout(()=>{l?.classList.remove("opacity-100")},2800));return}if(!b&&u.length>0){ot(0);return}M?(E&&(E.src="/assets/speaker_disabled.svg"),d&&l&&(d.pause(),clearTimeout(ve),clearTimeout(we),l.innerText="Now playing: Nothing",l.classList.add("opacity-100"),ye=setTimeout(()=>{l?.classList.remove("opacity-100")},2800))):(E&&(E.src="/assets/speaker_enabled.svg"),d&&l&&(d.play(),clearTimeout(ye),clearTimeout(we),l.innerText=`Now playing: ${b}`,l.classList.add("opacity-100"),ve=setTimeout(()=>{l?.classList.remove("opacity-100")},2800))),M=!M})}function ot(e){if(!d||!S)return;if(u.length===0){console.warn("No songs available to play."),d.pause(),S.removeAttribute("src"),b="",l&&(l.innerText="No songs available");return}if(e<0||e>=u.length){console.warn(`Invalid song index: ${e}`);return}y=e;const[t,n]=u[y];b=t;const a=L.get(t);if(!a){console.error(`Song not found in IndexedDB: ${t}`);return}S.src=a,d.load(),d.volume=n,l&&(d.play(),M=!0,E&&(E.src="/assets/speaker_enabled.svg"),clearTimeout(ye),clearTimeout(ve),l.innerText=`Now playing: ${b}`,l.classList.add("opacity-100"),we=setTimeout(()=>{l?.classList.remove("opacity-100")},2800))}document.addEventListener("DOMContentLoaded",async()=>{if(d&&S){if(await bt(),await Ie(),R=u.length-1,u.length>0&&!b){const[e,t]=u[0];b=e;const n=L.get(e);n&&S&&(S.src=n,d.load(),d.volume=t)}d.addEventListener("ended",()=>{C?y=Math.floor(Math.random()*(R+1)):(y++,y>R&&(y=0)),ot(y)}),P&&(P.src=C?"/assets/shuffle.svg":"/assets/unshuffled.svg",localStorage.setItem("isShuffled",String(C)))}});St();async function bt(){return new Promise((e,t)=>{const n=indexedDB.open(xt,Et);n.onupgradeneeded=a=>{const s=a.target.result;s.objectStoreNames.contains(_)||s.createObjectStore(_,{keyPath:"name"})},n.onsuccess=async()=>{te=n.result,localStorage.getItem("dbInitialized")||(await Bt(),localStorage.setItem("dbInitialized","true")),e()},n.onerror=()=>t(`Database error: ${n.error}`)})}function it(e,t){return new Promise((n,a)=>{const o=te.transaction([_],"readwrite").objectStore(_).put({name:e,blob:t});o.onsuccess=()=>n(),o.onerror=()=>a(`Failed to store ${e}`)})}function rt(){return new Promise((e,t)=>{const s=te.transaction([_],"readonly").objectStore(_).openCursor(),i=[];s.onsuccess=o=>{const r=o.target.result;r?(i.push(r.value),r.continue()):e(i)},s.onerror=()=>t("Failed to retrieve songs")})}async function kt(e){return new Promise((t,n)=>{const i=te.transaction(["songs"],"readwrite").objectStore("songs").delete(e);i.onsuccess=()=>{L.has(e)&&(URL.revokeObjectURL(L.get(e)),L.delete(e));const o=u.findIndex(([r])=>r===e);if(o!==-1){const r=b===e;if(u.splice(o,1),R=u.length-1,y>=u.length&&u.length>0?y=0:y>o&&y--,r&&d&&(d.pause(),M=!1,S&&S.removeAttribute("src"),d.load(),b="",E&&(E.src="/assets/speaker_disabled.svg"),l&&(l.innerText="Song deleted",l.classList.add("opacity-100"),setTimeout(()=>{l?.classList.remove("opacity-100")},2800)),u.length>0)){const[c,f]=u[y];b=c;const g=L.get(c);g&&S&&(S.src=g,d.load(),d.volume=f)}}t()},i.onerror=()=>n(`Failed to delete song: ${e}`)})}async function ee(){const e=await rt(),t=document.getElementById("song-holder"),n=document.getElementById("uploader");if(!t||!n)return;t.innerHTML="",e.forEach(s=>{const i=document.createElement("div");i.className="flex bg-gray-700 mt-5 py-3 px-3 rounded-2xl justify-center max-w-4/5 max-h-12";const o=document.createElement("p");o.className="whitespace-nowrap overflow-hidden text-ellipsis w-[200px]",o.textContent=s.name;const r=document.createElement("button");r.textContent="X",r.className="text-red-600 cursor-pointer ml-8 translate-y-[1px]",r.onclick=async()=>{await kt(s.name),await Ie(),ee()},i.appendChild(o),i.appendChild(r),t.appendChild(i)});const a=n.cloneNode(!0);n.parentNode?.replaceChild(a,n),a.addEventListener("change",async()=>{if(!a.files||a.files.length===0)return;const s=a.files[0],i=s,o=s.name.replace(/\.[^/.]+$/,"");await it(o,i),await Ie(),ee()})}async function Bt(){for(const[e]of st){const t=`/assets/${e}.mp3`,n=await fetch(t);if(!n.ok){console.warn(`Failed to fetch default song: ${e}`);continue}const a=await n.blob();await it(e,a)}window.location.pathname=="/music_player"&&ee()}const Tt={"/":"home","/game":"game","/flikhost":"flikhost","/stats":"stats","/music_player":"music_player"};function Ve(){fetch("/404.html").then(e=>{if(!e.ok)throw new Error("404 page not found");return e.text()}).then(e=>{const t=document.getElementById("app");t&&(t.innerHTML=e)}).catch(e=>console.error("Failed to load 404:",e))}async function xe(e){const t=document.getElementById("app");if(!t)return;const n=Tt[e];if(!n){Ve();return}try{const a=await fetch(`/${n}.html`);if(!a.ok)throw new Error("Page not found");const s=await a.text();switch(t.innerHTML=s,n){case"home":Lt();break;case"flikhost":lt();break;case"stats":It();break;case"music_player":ee();break}Dt()}catch(a){console.error("Error rendering page:",a),Ve()}}function Je(e){history.pushState({},"",e),xe(e)}document.addEventListener("DOMContentLoaded",()=>{const e=localStorage.getItem("404");e?(Je(e),localStorage.removeItem("404")):xe(location.pathname),window.addEventListener("popstate",()=>{xe(location.pathname)}),document.body.addEventListener("click",t=>{const n=t.target;if(n.matches("div[data-link]")){t.preventDefault();const a=n.getAttribute("href");a&&Je(a)}})});let w=0,q=["Python.png","Lua.png","TypeScript.jpg","CSharp.png","Rust.png"],Ke=["Python is the very first language that I wrote in, back in 2020 when I started getting serious about coding!",'Ok, I lied a little, technically Lua was the first language I wrote code in back in 2017 when i "Built" Roblox games.',`Hey look! It's TypeScript, the very same lang this website is built using! I've just started learning this lang but it's literally JavaScript which I'm a "god" at.`,"C# is one of those languages I passively use, I don't use it much anymore as it was mainly for unity but now I use, the best game engine, Godot!","Rust... Yes rust. I don't use rust at all other than when I'm bored and want to test my knowledge in rust (It isn't good)"],I=0,W=["Sus clicker.png","Blocky.png","ClickyMMO.png","Leland slug.png"],Ye=["Sus clicker, this game is my pride and joy, I've been making it for years! <a class='text-[#ff8c69]' href='https://itsbaileyx3525.itch.io/sus-clicker-remastered' target='_blank'>Check it out here!</a>","They call me blocky is a simple-ish game I'm making for Summer of making! Hoping to get a 3D printer. <a class='text-[#ff8c69]' href='https://itsbaileyx3525.itch.io/they-call-me-blocky' target='_blank'>Check it out here!</a>","ClickyMMO, I was inspired by 8bitMMO but with this you can draw anything with anyone! <a class='text-[#ff8c69]' href='https://itsbaileyx3525.itch.io/clickymmo' target='_blank'>Check it out here!</a>","Leland and the slug, A silly game that we had to make for college. It is not a good game lol. <a class='text-[#ff8c69]' href='https://itsbaileyx3525.itch.io/leland-and-the-slug' target='_blank'>Check it out here!</a>"],x=0,z=["Bailey at the pier.jpg","Bailey at the port.jpeg","Bailey touching grass.jpg","Bailey at auchwitz.jpeg","Bailey at the saltmines.jpeg"],Xe=["Bailey outside (shock) walking down the pier at the local beach","Yet another image of Bailey but this time he walked a buttload to see a city view.","Here I am walking with my mates, just played muffin time and we had to take a picture!","In this I'm at auchwitz... I did not mean to smile. But yea it was awesome learning.","An image of a king in the krakow saltmines... I have no idea what it means."];function Lt(){const e=document.getElementById("adventure-image"),t=document.getElementById("game-image"),n=document.getElementById("language-image"),a=document.getElementById("updates"),s=document.getElementById("close-updates"),i=document.getElementById("prev-adventure-button"),o=document.getElementById("next-adventure-button"),r=document.getElementById("adventure-footer"),c=document.getElementById("prev-game-button"),f=document.getElementById("next-game-button"),g=document.getElementById("game-footer"),k=document.getElementById("prev-language-button"),B=document.getElementById("next-language-button"),p=document.getElementById("language-footer");i&&o&&(i.addEventListener("click",()=>{x--,x===-1&&(x=z.length-1),e&&(e.src="assets/index/baileyAdventure/"+z[x]),r&&(r.innerText=Xe[x])}),o.addEventListener("click",()=>{x++,x>=z.length&&(x=0),e&&(e.src="assets/index/baileyAdventure/"+z[x]),r&&(r.innerText=Xe[x])})),c&&f&&(c.addEventListener("click",()=>{I--,I===-1&&(I=W.length-1),t&&(t.src="assets/index/baileyGames/"+W[I]),g&&(g.innerHTML="<p>"+Ye[I]+"</p>")}),f.addEventListener("click",()=>{I++,I>=W.length&&(I=0),t&&(t.src="assets/index/baileyGames/"+W[I]),g&&(g.innerHTML="<p>"+Ye[I]+"</p>")})),k&&B&&(k.addEventListener("click",()=>{w--,w===-1&&(w=q.length-1),n&&(n.src="assets/index/baileyLanguage/"+q[w]),p&&(p.innerHTML="<p>"+Ke[w]+"</p>")}),B.addEventListener("click",()=>{w++,w>=q.length&&(w=0),n&&(n.src="assets/index/baileyLanguage/"+q[w]),p&&(p.innerHTML="<p>"+Ke[w]+"</p>")})),s&&s.addEventListener("click",()=>{a&&(a.classList.remove("fixed"),a.classList.add("hidden"),localStorage.setItem("ship1","false"))}),localStorage.getItem("ship1")=="true"&&a&&(a.classList.remove("hidden"),a.classList.add("fixed"))}function Dt(){for(const e of document.querySelectorAll("img"))e.addEventListener("error",function(t){const n=t.target;n.src="NoImage.jpg",n.onerror=null}),e.complete&&e.naturalWidth===0&&e.dispatchEvent(new Event("error"))}const Qe=document.getElementById("portfolio-button");document.addEventListener("DOMContentLoaded",()=>{Qe&&Qe.addEventListener("click",()=>{window.location.href="/portfolio"})});function At(e,t){e&&t&&(e.classList.contains("max-h-0")?(e.classList.remove("max-h-0"),e.classList.add("max-h-40"),t.innerText="↑"):(e.classList.remove("max-h-40"),e.classList.add("max-h-0"),t.innerText="↓"))}window.toggleReveal=At;
